<div class="header-margin">
<div class="header-info">
  <h1>Mobility</h1>
  <p><b>Tracks user mobility on different days as well as daily versus weekly mobility trends.</b></p>
</div>
</div>

<div class="header bg-primary pb-6">
  <div class="container-fluid">
    <div class="header-body">
      <%= render partial: 'pages/header', locals: {
            icon: 'home',
            breadcrumb_1: 'Logging',
            breadcrumb_2: 'Logging'
      } %>
    </div>
  </div>
</div>



<!-- Page content -->
<div class="container-fluid mt--6">
 <%= render 'layouts/insights' , notification_type: "mobility" %>
<!-- Page content -->

  <div class="row">
    <div class="col" background-color="white">
     <% @data = !@processed_steps_data.nil? ? @processed_steps_data.map { |day_of_week, per_minute_data|
            {name: day_of_week, data: per_minute_data} 
        } : []
      %>
        <%= render 'pages/mobility/charts/day_of_week', user_data:@data %>
      
    </div>
    
  </div>

  <div class="row">
    <div class="col" background-color="white">
     <% @daily_data = !@mobility_aggregated.nil? ? @mobility_aggregated: []
      %>
      <% @weekly_data = !@weekly_aggregated.nil? ? @weekly_aggregated: []
      %>
        <%= render 'pages/mobility/charts/bar_totalsteps_dayandweek.html.erb', daily_user_data:@daily_data, weekly_user_data:@weekly_data %>
      
    </div>
    
  </div>

  <%= render 'pages/footer' %>
</div>
